<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>db package &mdash; Savings Manager  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Savings Manager
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">db package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-db.core">db.core module</a><ul>
<li><a class="reference internal" href="#db.core.create_instance"><code class="docutils literal notranslate"><span class="pre">create_instance()</span></code></a></li>
<li><a class="reference internal" href="#db.core.deactivate_instance"><code class="docutils literal notranslate"><span class="pre">deactivate_instance()</span></code></a></li>
<li><a class="reference internal" href="#db.core.exists_instance"><code class="docutils literal notranslate"><span class="pre">exists_instance()</span></code></a></li>
<li><a class="reference internal" href="#db.core.read_instance"><code class="docutils literal notranslate"><span class="pre">read_instance()</span></code></a></li>
<li><a class="reference internal" href="#db.core.read_instances"><code class="docutils literal notranslate"><span class="pre">read_instances()</span></code></a></li>
<li><a class="reference internal" href="#db.core.update_instance"><code class="docutils literal notranslate"><span class="pre">update_instance()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-db.db_manager">db.db_manager module</a><ul>
<li><a class="reference internal" href="#db.db_manager.DBManager"><code class="docutils literal notranslate"><span class="pre">DBManager</span></code></a><ul>
<li><a class="reference internal" href="#db.db_manager.DBManager.add_amount"><code class="docutils literal notranslate"><span class="pre">DBManager.add_amount()</span></code></a></li>
<li><a class="reference internal" href="#db.db_manager.DBManager.add_moneybox"><code class="docutils literal notranslate"><span class="pre">DBManager.add_moneybox()</span></code></a></li>
<li><a class="reference internal" href="#db.db_manager.DBManager.db_connection_string"><code class="docutils literal notranslate"><span class="pre">DBManager.db_connection_string</span></code></a></li>
<li><a class="reference internal" href="#db.db_manager.DBManager.delete_moneybox"><code class="docutils literal notranslate"><span class="pre">DBManager.delete_moneybox()</span></code></a></li>
<li><a class="reference internal" href="#db.db_manager.DBManager.get_moneybox"><code class="docutils literal notranslate"><span class="pre">DBManager.get_moneybox()</span></code></a></li>
<li><a class="reference internal" href="#db.db_manager.DBManager.get_moneyboxes"><code class="docutils literal notranslate"><span class="pre">DBManager.get_moneyboxes()</span></code></a></li>
<li><a class="reference internal" href="#db.db_manager.DBManager.get_transaction_logs"><code class="docutils literal notranslate"><span class="pre">DBManager.get_transaction_logs()</span></code></a></li>
<li><a class="reference internal" href="#db.db_manager.DBManager.sub_amount"><code class="docutils literal notranslate"><span class="pre">DBManager.sub_amount()</span></code></a></li>
<li><a class="reference internal" href="#db.db_manager.DBManager.transfer_amount"><code class="docutils literal notranslate"><span class="pre">DBManager.transfer_amount()</span></code></a></li>
<li><a class="reference internal" href="#db.db_manager.DBManager.update_moneybox"><code class="docutils literal notranslate"><span class="pre">DBManager.update_moneybox()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-db.exceptions">db.exceptions module</a><ul>
<li><a class="reference internal" href="#db.exceptions.BalanceResultIsNegativeError"><code class="docutils literal notranslate"><span class="pre">BalanceResultIsNegativeError</span></code></a></li>
<li><a class="reference internal" href="#db.exceptions.ColumnDoesNotExistError"><code class="docutils literal notranslate"><span class="pre">ColumnDoesNotExistError</span></code></a></li>
<li><a class="reference internal" href="#db.exceptions.CreateInstanceError"><code class="docutils literal notranslate"><span class="pre">CreateInstanceError</span></code></a></li>
<li><a class="reference internal" href="#db.exceptions.DeleteInstanceError"><code class="docutils literal notranslate"><span class="pre">DeleteInstanceError</span></code></a></li>
<li><a class="reference internal" href="#db.exceptions.HasBalanceError"><code class="docutils literal notranslate"><span class="pre">HasBalanceError</span></code></a></li>
<li><a class="reference internal" href="#db.exceptions.MoneyboxNameExistError"><code class="docutils literal notranslate"><span class="pre">MoneyboxNameExistError</span></code></a></li>
<li><a class="reference internal" href="#db.exceptions.MoneyboxNotFoundError"><code class="docutils literal notranslate"><span class="pre">MoneyboxNotFoundError</span></code></a></li>
<li><a class="reference internal" href="#db.exceptions.NonPositiveAmountError"><code class="docutils literal notranslate"><span class="pre">NonPositiveAmountError</span></code></a></li>
<li><a class="reference internal" href="#db.exceptions.RecordNotFoundError"><code class="docutils literal notranslate"><span class="pre">RecordNotFoundError</span></code></a></li>
<li><a class="reference internal" href="#db.exceptions.TransferEqualMoneyboxError"><code class="docutils literal notranslate"><span class="pre">TransferEqualMoneyboxError</span></code></a></li>
<li><a class="reference internal" href="#db.exceptions.UpdateInstanceError"><code class="docutils literal notranslate"><span class="pre">UpdateInstanceError</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-db.models">db.models module</a><ul>
<li><a class="reference internal" href="#db.models.Base"><code class="docutils literal notranslate"><span class="pre">Base</span></code></a><ul>
<li><a class="reference internal" href="#db.models.Base.asdict"><code class="docutils literal notranslate"><span class="pre">Base.asdict()</span></code></a></li>
<li><a class="reference internal" href="#db.models.Base.dictalchemy_asdict_include"><code class="docutils literal notranslate"><span class="pre">Base.dictalchemy_asdict_include</span></code></a></li>
<li><a class="reference internal" href="#db.models.Base.dictalchemy_exclude"><code class="docutils literal notranslate"><span class="pre">Base.dictalchemy_exclude</span></code></a></li>
<li><a class="reference internal" href="#db.models.Base.dictalchemy_exclude_underscore"><code class="docutils literal notranslate"><span class="pre">Base.dictalchemy_exclude_underscore</span></code></a></li>
<li><a class="reference internal" href="#db.models.Base.dictalchemy_fromdict_allow_pk"><code class="docutils literal notranslate"><span class="pre">Base.dictalchemy_fromdict_allow_pk</span></code></a></li>
<li><a class="reference internal" href="#db.models.Base.dictalchemy_fromdict_include"><code class="docutils literal notranslate"><span class="pre">Base.dictalchemy_fromdict_include</span></code></a></li>
<li><a class="reference internal" href="#db.models.Base.dictalchemy_include"><code class="docutils literal notranslate"><span class="pre">Base.dictalchemy_include</span></code></a></li>
<li><a class="reference internal" href="#db.models.Base.fromdict"><code class="docutils literal notranslate"><span class="pre">Base.fromdict()</span></code></a></li>
<li><a class="reference internal" href="#db.models.Base.metadata"><code class="docutils literal notranslate"><span class="pre">Base.metadata</span></code></a></li>
<li><a class="reference internal" href="#db.models.Base.registry"><code class="docutils literal notranslate"><span class="pre">Base.registry</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#db.models.Moneybox"><code class="docutils literal notranslate"><span class="pre">Moneybox</span></code></a><ul>
<li><a class="reference internal" href="#db.models.Moneybox.balance"><code class="docutils literal notranslate"><span class="pre">Moneybox.balance</span></code></a></li>
<li><a class="reference internal" href="#db.models.Moneybox.created_at"><code class="docutils literal notranslate"><span class="pre">Moneybox.created_at</span></code></a></li>
<li><a class="reference internal" href="#db.models.Moneybox.id"><code class="docutils literal notranslate"><span class="pre">Moneybox.id</span></code></a></li>
<li><a class="reference internal" href="#db.models.Moneybox.is_active"><code class="docutils literal notranslate"><span class="pre">Moneybox.is_active</span></code></a></li>
<li><a class="reference internal" href="#db.models.Moneybox.modified_at"><code class="docutils literal notranslate"><span class="pre">Moneybox.modified_at</span></code></a></li>
<li><a class="reference internal" href="#db.models.Moneybox.name"><code class="docutils literal notranslate"><span class="pre">Moneybox.name</span></code></a></li>
<li><a class="reference internal" href="#db.models.Moneybox.note"><code class="docutils literal notranslate"><span class="pre">Moneybox.note</span></code></a></li>
<li><a class="reference internal" href="#db.models.Moneybox.priority"><code class="docutils literal notranslate"><span class="pre">Moneybox.priority</span></code></a></li>
<li><a class="reference internal" href="#db.models.Moneybox.savings_amount"><code class="docutils literal notranslate"><span class="pre">Moneybox.savings_amount</span></code></a></li>
<li><a class="reference internal" href="#db.models.Moneybox.savings_target"><code class="docutils literal notranslate"><span class="pre">Moneybox.savings_target</span></code></a></li>
<li><a class="reference internal" href="#db.models.Moneybox.transactions_log"><code class="docutils literal notranslate"><span class="pre">Moneybox.transactions_log</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#db.models.SqlBase"><code class="docutils literal notranslate"><span class="pre">SqlBase</span></code></a><ul>
<li><a class="reference internal" href="#db.models.SqlBase.asdict"><code class="docutils literal notranslate"><span class="pre">SqlBase.asdict()</span></code></a></li>
<li><a class="reference internal" href="#db.models.SqlBase.created_at"><code class="docutils literal notranslate"><span class="pre">SqlBase.created_at</span></code></a></li>
<li><a class="reference internal" href="#db.models.SqlBase.id"><code class="docutils literal notranslate"><span class="pre">SqlBase.id</span></code></a></li>
<li><a class="reference internal" href="#db.models.SqlBase.is_active"><code class="docutils literal notranslate"><span class="pre">SqlBase.is_active</span></code></a></li>
<li><a class="reference internal" href="#db.models.SqlBase.modified_at"><code class="docutils literal notranslate"><span class="pre">SqlBase.modified_at</span></code></a></li>
<li><a class="reference internal" href="#db.models.SqlBase.note"><code class="docutils literal notranslate"><span class="pre">SqlBase.note</span></code></a></li>
<li><a class="reference internal" href="#db.models.SqlBase.strict_attrs"><code class="docutils literal notranslate"><span class="pre">SqlBase.strict_attrs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#db.models.Transaction"><code class="docutils literal notranslate"><span class="pre">Transaction</span></code></a><ul>
<li><a class="reference internal" href="#db.models.Transaction.amount"><code class="docutils literal notranslate"><span class="pre">Transaction.amount</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.balance"><code class="docutils literal notranslate"><span class="pre">Transaction.balance</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.counterparty_moneybox"><code class="docutils literal notranslate"><span class="pre">Transaction.counterparty_moneybox</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.counterparty_moneybox_id"><code class="docutils literal notranslate"><span class="pre">Transaction.counterparty_moneybox_id</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.created_at"><code class="docutils literal notranslate"><span class="pre">Transaction.created_at</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.description"><code class="docutils literal notranslate"><span class="pre">Transaction.description</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.id"><code class="docutils literal notranslate"><span class="pre">Transaction.id</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.is_active"><code class="docutils literal notranslate"><span class="pre">Transaction.is_active</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.modified_at"><code class="docutils literal notranslate"><span class="pre">Transaction.modified_at</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.moneybox"><code class="docutils literal notranslate"><span class="pre">Transaction.moneybox</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.moneybox_id"><code class="docutils literal notranslate"><span class="pre">Transaction.moneybox_id</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.note"><code class="docutils literal notranslate"><span class="pre">Transaction.note</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.transaction_trigger"><code class="docutils literal notranslate"><span class="pre">Transaction.transaction_trigger</span></code></a></li>
<li><a class="reference internal" href="#db.models.Transaction.transaction_type"><code class="docutils literal notranslate"><span class="pre">Transaction.transaction_type</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#db.models.meta"><code class="docutils literal notranslate"><span class="pre">meta</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-db">Module contents</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Savings Manager</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">db package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/db.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="db-package">
<h1>db package<a class="headerlink" href="#db-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-db.core">
<span id="db-core-module"></span><h2>db.core module<a class="headerlink" href="#module-db.core" title="Link to this heading"></a></h2>
<p>DB core functionalities are located here.</p>
<dl class="py function">
<dt class="sig sig-object py" id="db.core.create_instance">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.core.</span></span><span class="sig-name descname"><span class="pre">create_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">async_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">async_sessionmaker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orm_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SqlBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SqlBase</span></span></span><a class="headerlink" href="#db.core.create_instance" title="Link to this definition"></a></dt>
<dd><p>The core CREATE db function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>async_session</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code>) – The current async_session of the database.</p></li>
<li><p><strong>orm_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SqlBase</span></code>) – The orm model to handle with (table).</p></li>
<li><p><strong>data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code>) – The ORM model data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created db instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">SqlBase</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="db.core.deactivate_instance">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.core.</span></span><span class="sig-name descname"><span class="pre">deactivate_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">async_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">async_sessionmaker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orm_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SqlBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#db.core.deactivate_instance" title="Link to this definition"></a></dt>
<dd><p>The core deactivate db function. Specific update function to set <cite>ìs_active</cite>
column to false.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>async_session</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code>) – The current async_session of the database.</p></li>
<li><p><strong>orm_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SqlBase</span></code>) – The orm model to handle with (table).</p></li>
<li><p><strong>record_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The instance id.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If deactivated successfully, returns True, otherwise returns False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="db.core.exists_instance">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.core.</span></span><span class="sig-name descname"><span class="pre">exists_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">async_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">async_sessionmaker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orm_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SqlBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_insensitive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#db.core.exists_instance" title="Link to this definition"></a></dt>
<dd><p>Checks whether an instance exists in the database by given <cite>values</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>async_session</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code>) – The current async_session of the database.</p></li>
<li><p><strong>orm_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SqlBase</span></code>) – The orm model to handle with (table).</p></li>
<li><p><strong>values</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code>) – The key-values data used for the where-clause.</p></li>
<li><p><strong>case_insensitive</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – If <cite>True</cite>, <cite>values</cite> will be compared
by ignoring case-sensitivity, if <cite>False</cite>,</p></li>
<li><p><strong>exclude_ids</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list[int]</span> <span class="pre">|</span> <span class="pre">None</span></code>) – The list of record ids to exclude from the exist query.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created db instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="db.core.read_instance">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.core.</span></span><span class="sig-name descname"><span class="pre">read_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">async_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">async_sessionmaker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orm_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SqlBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_active_instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SqlBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#db.core.read_instance" title="Link to this definition"></a></dt>
<dd><p>The core SELECT db function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>async_session</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code>) – The current async_session of the database.</p></li>
<li><p><strong>orm_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SqlBase</span></code>) – The orm model to handle with (table).</p></li>
<li><p><strong>record_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The instance id.</p></li>
<li><p><strong>only_active_instances</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – If true, only active instances will be returned (is_active=True).
If false, inclusive inactive instances will be returned (is_active=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The requested db instance
or None, if given record_id does not exist.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">SqlBase</span> <span class="pre">|</span> <span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="db.core.read_instances">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.core.</span></span><span class="sig-name descname"><span class="pre">read_instances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">async_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">async_sessionmaker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orm_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SqlBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_active_instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span></span></span><a class="headerlink" href="#db.core.read_instances" title="Link to this definition"></a></dt>
<dd><p>The core multi SELECT db function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>async_session</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code>) – The current async_session of the database.</p></li>
<li><p><strong>orm_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SqlBase</span></code>) – The orm model to handle with (table).</p></li>
<li><p><strong>only_active_instances</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – If true, only active instances will be returned (is_active=True).
If false, inclusive inactive instances will be returned (is_active=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The requested db instances as list
or None, if no instances available.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[SqlBase]</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="db.core.update_instance">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.core.</span></span><span class="sig-name descname"><span class="pre">update_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">async_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">async_sessionmaker</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">AsyncSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orm_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SqlBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SqlBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#db.core.update_instance" title="Link to this definition"></a></dt>
<dd><p>The core UPDATE db function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>async_session</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">async_sessionmaker</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSession</span></code>) – The current async_session of the database.</p></li>
<li><p><strong>orm_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SqlBase</span></code>) – The orm model to handle with (table).</p></li>
<li><p><strong>record_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The instance id.</p></li>
<li><p><strong>data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code>) – The ORM updating model data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated db instance
or None, if given record_id does not exist.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">SqlBase</span> <span class="pre">|</span> <span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-db.db_manager">
<span id="db-db-manager-module"></span><h2>db.db_manager module<a class="headerlink" href="#module-db.db_manager" title="Link to this heading"></a></h2>
<p>All database definitions are located here.</p>
<dl class="py class">
<dt class="sig sig-object py" id="db.db_manager.DBManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.db_manager.</span></span><span class="sig-name descname"><span class="pre">DBManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_settings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DBSettings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.db_manager.DBManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>All db manager logic are located here.</p>
<dl class="py method">
<dt class="sig sig-object py" id="db.db_manager.DBManager.add_amount">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deposit_transaction_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TransactionType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction_trigger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TransactionTrigger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#db.db_manager.DBManager.add_amount" title="Link to this definition"></a></dt>
<dd><p>DB Function to add amount to moneybox by moneybox_id.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>moneybox_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The id of the moneybox.</p></li>
<li><p><strong>deposit_transaction_data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code>) – The deposit transaction data.</p></li>
<li><p><strong>transaction_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionType</span></code>) – The transaction type of the transaction.</p></li>
<li><p><strong>transaction_trigger</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionTrigger</span></code>) – The transaction trigger for the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated moneybox data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">MoneyboxNotFoundError</span></code>: if given moneybox_id</dt><dd><p>was not found in database.</p>
</dd>
</dl>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">NegativeAmountError</span></code>: if balance to add is negative.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="db.db_manager.DBManager.add_moneybox">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_moneybox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moneybox_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#db.db_manager.DBManager.add_moneybox" title="Link to this definition"></a></dt>
<dd><p>DB Function to add a new moneybox into database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>moneybox_data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code>) – The moneybox data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The added moneybox data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="db.db_manager.DBManager.db_connection_string">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">db_connection_string</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#db.db_manager.DBManager.db_connection_string" title="Link to this definition"></a></dt>
<dd><p>Property to create a database connection string based on db driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A db connection string.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code>: if self.db_settings.db_driver is not supported.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="db.db_manager.DBManager.delete_moneybox">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete_moneybox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#db.db_manager.DBManager.delete_moneybox" title="Link to this definition"></a></dt>
<dd><p>DB Function to delete a moneybox by given id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>moneybox_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The id of the moneybox.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">MoneyboxNotFoundError</span></code>: if given moneybox_id
was not found in database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="db.db_manager.DBManager.get_moneybox">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_moneybox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_active_instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#db.db_manager.DBManager.get_moneybox" title="Link to this definition"></a></dt>
<dd><p>DB Function to get a moneybox by moneybox_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>moneybox_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The id of the moneybox.</p></li>
<li><p><strong>only_active_instances</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – If True, only active moneyboxes will be
returned, default to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The requested moneybox data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">MoneyboxNotFoundError</span></code>: if given moneybox_id
was not found in database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="db.db_manager.DBManager.get_moneyboxes">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_moneyboxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#db.db_manager.DBManager.get_moneyboxes" title="Link to this definition"></a></dt>
<dd><p>DB Function to get all moneyboxes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The requested moneybox data.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list[dict[str,</span> <span class="pre">Any]]</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="db.db_manager.DBManager.get_transaction_logs">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_transaction_logs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#db.db_manager.DBManager.get_transaction_logs" title="Link to this definition"></a></dt>
<dd><p>Get a list of transaction logs for the given moneybox id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>moneybox_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The moneybox id.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of transaction logs for the given moneybox id.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list[dict[str,</span> <span class="pre">Any]]</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">MoneyboxNotFoundError</span></code>: if given moneybox_id
was not found in database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="db.db_manager.DBManager.sub_amount">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sub_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">withdraw_transaction_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TransactionType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction_trigger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TransactionTrigger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#db.db_manager.DBManager.sub_amount" title="Link to this definition"></a></dt>
<dd><p>DB Function to sub given amount from moneybox by moneybox_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>moneybox_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The id of the moneybox.</p></li>
<li><p><strong>withdraw_transaction_data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code>) – The withdrawal transaction data.</p></li>
<li><p><strong>transaction_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionType</span></code>) – The transaction type of the transaction.</p></li>
<li><p><strong>transaction_trigger</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionTrigger</span></code>) – The transaction trigger for the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated moneybox data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">MoneyboxNotFoundError</span></code>: if given moneybox_id</dt><dd><p>was not found in database.</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">NegativeAmountError</span></code>:</dt><dd><p>if balance to sub  is negative.</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">BalanceResultIsNegativeError</span></code>:</dt><dd><p>if result of withdraw is negative.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="db.db_manager.DBManager.transfer_amount">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">transfer_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transfer_transaction_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TransactionType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction_trigger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TransactionTrigger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#db.db_manager.DBManager.transfer_amount" title="Link to this definition"></a></dt>
<dd><p>DB Function to transfer <cite>balance</cite> from <cite>from_moneybox_id</cite>
from <cite>to_moneybox_id</cite>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>from_moneybox_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The source id of the moneybox where the balance comes from.</p></li>
<li><p><strong>transfer_transaction_data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code>) – The transfer transaction data.</p></li>
<li><p><strong>transaction_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionType</span></code>) – The transaction type of the transaction.</p></li>
<li><p><strong>transaction_trigger</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionTrigger</span></code>) – The transaction trigger for the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">NegativeTransferAmountError</span></code>:</dt><dd><blockquote>
<div><p>if balance to transfer is negative.</p>
</div></blockquote>
<dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">BalanceResultIsNegativeError</span></code>:</dt><dd><p>if result of withdraws from_moneybox_id is negative.</p>
</dd>
</dl>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">TransferEqualMoneyboxError</span></code>:</dt><dd><p>if transfer shall happen within the same moneybox.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="db.db_manager.DBManager.update_moneybox">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">update_moneybox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moneybox_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#db.db_manager.DBManager.update_moneybox" title="Link to this definition"></a></dt>
<dd><p>DB Function to update a moneybox by moneybox_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>moneybox_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The id of the moneybox.</p></li>
<li><p><strong>moneybox_data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code>) – The moneybox data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated moneybox data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">MoneyboxNotFoundError</span></code>: if given moneybox_id
was not found in database.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-db.exceptions">
<span id="db-exceptions-module"></span><h2>db.exceptions module<a class="headerlink" href="#module-db.exceptions" title="Link to this heading"></a></h2>
<p>All database exceptions are located.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="db.exceptions.BalanceResultIsNegativeError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.exceptions.</span></span><span class="sig-name descname"><span class="pre">BalanceResultIsNegativeError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.exceptions.BalanceResultIsNegativeError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#db.exceptions.UpdateInstanceError" title="db.exceptions.UpdateInstanceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateInstanceError</span></code></a></p>
<p>Custom BalanceResultIsNegativeError Exception</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="db.exceptions.ColumnDoesNotExistError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.exceptions.</span></span><span class="sig-name descname"><span class="pre">ColumnDoesNotExistError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.exceptions.ColumnDoesNotExistError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Custom Exception ColumnDoesNotExistError</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="db.exceptions.CreateInstanceError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.exceptions.</span></span><span class="sig-name descname"><span class="pre">CreateInstanceError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">details</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.exceptions.CreateInstanceError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Base CreateInstanceError Exception Class</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="db.exceptions.DeleteInstanceError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.exceptions.</span></span><span class="sig-name descname"><span class="pre">DeleteInstanceError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">details</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.exceptions.DeleteInstanceError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Base DeleteInstanceError Exception Class</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="db.exceptions.HasBalanceError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.exceptions.</span></span><span class="sig-name descname"><span class="pre">HasBalanceError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.exceptions.HasBalanceError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#db.exceptions.DeleteInstanceError" title="db.exceptions.DeleteInstanceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeleteInstanceError</span></code></a></p>
<p>Custom HasBalanceError Exception</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="db.exceptions.MoneyboxNameExistError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.exceptions.</span></span><span class="sig-name descname"><span class="pre">MoneyboxNameExistError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.exceptions.MoneyboxNameExistError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#db.exceptions.CreateInstanceError" title="db.exceptions.CreateInstanceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateInstanceError</span></code></a></p>
<p>Custom Exception for already existing moneybox names in database.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="db.exceptions.MoneyboxNotFoundError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.exceptions.</span></span><span class="sig-name descname"><span class="pre">MoneyboxNotFoundError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.exceptions.MoneyboxNotFoundError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#db.exceptions.RecordNotFoundError" title="db.exceptions.RecordNotFoundError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RecordNotFoundError</span></code></a></p>
<p>Custom MoneyboxNotFound Exception</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="db.exceptions.NonPositiveAmountError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.exceptions.</span></span><span class="sig-name descname"><span class="pre">NonPositiveAmountError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.exceptions.NonPositiveAmountError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#db.exceptions.UpdateInstanceError" title="db.exceptions.UpdateInstanceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateInstanceError</span></code></a></p>
<p>Custom NonPositiveAmountError Exception</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="db.exceptions.RecordNotFoundError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.exceptions.</span></span><span class="sig-name descname"><span class="pre">RecordNotFoundError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.exceptions.RecordNotFoundError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Base RecordNotFound Exception Class</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="db.exceptions.TransferEqualMoneyboxError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.exceptions.</span></span><span class="sig-name descname"><span class="pre">TransferEqualMoneyboxError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_moneybox_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.exceptions.TransferEqualMoneyboxError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#db.exceptions.UpdateInstanceError" title="db.exceptions.UpdateInstanceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateInstanceError</span></code></a></p>
<p>Custom TransferEqualMoneyboxError Exception</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="db.exceptions.UpdateInstanceError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.exceptions.</span></span><span class="sig-name descname"><span class="pre">UpdateInstanceError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">details</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.exceptions.UpdateInstanceError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Base UpdateInstanceError Exception Class</p>
</dd></dl>

</section>
<section id="module-db.models">
<span id="db-models-module"></span><h2>db.models module<a class="headerlink" href="#module-db.models" title="Link to this heading"></a></h2>
<p>The MoneyBox ORM model.</p>
<dl class="py class">
<dt class="sig sig-object py" id="db.models.Base">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.models.</span></span><span class="sig-name descname"><span class="pre">Base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.models.Base" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">DeclarativeBase</span></code></p>
<p>The declarative Base model</p>
<dl class="py method">
<dt class="sig sig-object py" id="db.models.Base.asdict">
<span class="sig-name descname"><span class="pre">asdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_underscore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_pk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'asdict'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.models.Base.asdict" title="Link to this definition"></a></dt>
<dd><p>Get a dict from a model</p>
<p>Using the <cite>method</cite> parameter makes it possible to have multiple methods
that formats the result.</p>
<p>Additional keyword arguments will be passed to all relationships that are
followed. This can be used to pass on things like request or context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>follow</strong> – List or dict of relationships that should be followed.
If the parameter is a dict the value should be a dict of             keyword arguments. Currently it follows InstrumentedList,             MappedCollection and regular 1:1, 1:m, m:m relationships. Follow             takes an extra argument, ‘method’, which is the method that             should be used on the relation. It also takes the extra argument             ‘parent’ which determines where the relationships data should be             added in the response dict. If ‘parent’ is set the relationship             will be added with it’s own key as a child to <cite>parent</cite>.</p></li>
<li><p><strong>exclude</strong> – List of properties that should be excluded, will be             merged with <cite>model.dictalchemy_exclude</cite></p></li>
<li><p><strong>exclude_pk</strong> – If True any column that refers to the primary key will             be excluded.</p></li>
<li><p><strong>exclude_underscore</strong> – Overides <cite>model.dictalchemy_exclude_underscore</cite>            if set</p></li>
<li><p><strong>include</strong> – List of properties that should be included. Use this to             allow python properties to be called. This list will be merged             with <cite>model.dictalchemy_asdict_include</cite> or             <cite>model.dictalchemy_include</cite>.</p></li>
<li><p><strong>only</strong> – List of properties that should be included. This will             override everything else except <cite>follow</cite>.</p></li>
<li><p><strong>method</strong> – Name of the method that is currently called. This will be             the default method used in ‘follow’ unless another method is            set.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dictalchemy.errors.MissingRelationError</span></code>             if <cite>follow</cite> contains a non-existent relationship.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dictalchemy.errors.UnsupportedRelationError</span></code> If <cite>follow</cite>             contains an existing relationship that currently isn’t supported.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Base.dictalchemy_asdict_include">
<span class="sig-name descname"><span class="pre">dictalchemy_asdict_include</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#db.models.Base.dictalchemy_asdict_include" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Base.dictalchemy_exclude">
<span class="sig-name descname"><span class="pre">dictalchemy_exclude</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#db.models.Base.dictalchemy_exclude" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Base.dictalchemy_exclude_underscore">
<span class="sig-name descname"><span class="pre">dictalchemy_exclude_underscore</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#db.models.Base.dictalchemy_exclude_underscore" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Base.dictalchemy_fromdict_allow_pk">
<span class="sig-name descname"><span class="pre">dictalchemy_fromdict_allow_pk</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#db.models.Base.dictalchemy_fromdict_allow_pk" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Base.dictalchemy_fromdict_include">
<span class="sig-name descname"><span class="pre">dictalchemy_fromdict_include</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#db.models.Base.dictalchemy_fromdict_include" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Base.dictalchemy_include">
<span class="sig-name descname"><span class="pre">dictalchemy_include</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#db.models.Base.dictalchemy_include" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="db.models.Base.fromdict">
<span class="sig-name descname"><span class="pre">fromdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_underscore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_pk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.models.Base.fromdict" title="Link to this definition"></a></dt>
<dd><p>Update a model from a dict</p>
<p>Works almost identically as <code class="xref py py-meth docutils literal notranslate"><span class="pre">dictalchemy.utils.asdict()</span></code>. However, it
will not create missing instances or update collections.</p>
<p>This method updates the following properties on a model:</p>
<ul class="simple">
<li><p>Simple columns</p></li>
<li><p>Synonyms</p></li>
<li><p>Simple 1-m relationships</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – dict of data</p></li>
<li><p><strong>exclude</strong> – list of properties that should be excluded</p></li>
<li><p><strong>exclude_underscore</strong> – If True underscore properties will be excluded,            if set to None model.dictalchemy_exclude_underscore will be used.</p></li>
<li><p><strong>allow_pk</strong> – If True any column that refers to the primary key will             be excluded. Defaults model.dictalchemy_fromdict_allow_pk or             dictable.constants.fromdict_allow_pk. If set to True a primary             key can still be excluded with the <cite>exclude</cite> parameter.</p></li>
<li><p><strong>follow</strong> – Dict of relations that should be followed, the key is the             arguments passed to the relation. Relations only works on simple             relations, not on lists.</p></li>
<li><p><strong>include</strong> – List of properties that should be included. This list             will override anything in the exclude list. It will not override             allow_pk.</p></li>
<li><p><strong>only</strong> – List of the only properties that should be set. This             will not override <cite>allow_pk</cite> or <cite>follow</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dictalchemy.errors.DictalchemyError</span></code> If a primary key is             in data and allow_pk is False</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The model</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Base.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">MetaData</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">MetaData()</span></em><a class="headerlink" href="#db.models.Base.metadata" title="Link to this definition"></a></dt>
<dd><p>The database meta config.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Base.registry">
<span class="sig-name descname"><span class="pre">registry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">_RegistryType</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;sqlalchemy.orm.decl_api.registry</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#db.models.Base.registry" title="Link to this definition"></a></dt>
<dd><p>Refers to the <code class="xref py py-class docutils literal notranslate"><span class="pre">_orm.registry</span></code> in use where new
<code class="xref py py-class docutils literal notranslate"><span class="pre">_orm.Mapper</span></code> objects will be associated.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="db.models.Moneybox">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.models.</span></span><span class="sig-name descname"><span class="pre">Moneybox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.models.Moneybox" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#db.models.SqlBase" title="db.models.SqlBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SqlBase</span></code></a></p>
<p>The ORM model for Moneybox</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Moneybox.balance">
<span class="sig-name descname"><span class="pre">balance</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Moneybox.balance" title="Link to this definition"></a></dt>
<dd><p>The current balance of the moneybox.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Moneybox.created_at">
<span class="sig-name descname"><span class="pre">created_at</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Moneybox.created_at" title="Link to this definition"></a></dt>
<dd><p>The created utc datetime.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Moneybox.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Moneybox.id" title="Link to this definition"></a></dt>
<dd><p>The primary ID of the row.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Moneybox.is_active">
<span class="sig-name descname"><span class="pre">is_active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Moneybox.is_active" title="Link to this definition"></a></dt>
<dd><p>Flag to mark instance as deleted.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Moneybox.modified_at">
<span class="sig-name descname"><span class="pre">modified_at</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Moneybox.modified_at" title="Link to this definition"></a></dt>
<dd><p>The modified utc datetime.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Moneybox.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Moneybox.name" title="Link to this definition"></a></dt>
<dd><p>The name of a moneybox.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Moneybox.note">
<span class="sig-name descname"><span class="pre">note</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Moneybox.note" title="Link to this definition"></a></dt>
<dd><p>The note of this record.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Moneybox.priority">
<span class="sig-name descname"><span class="pre">priority</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Moneybox.priority" title="Link to this definition"></a></dt>
<dd><p>The current priority of the moneybox. There is only one moneybox with
a priority of Null (will be the marker for the overflow moneybox).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Moneybox.savings_amount">
<span class="sig-name descname"><span class="pre">savings_amount</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Moneybox.savings_amount" title="Link to this definition"></a></dt>
<dd><p>The current savings amount of the moneybox.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Moneybox.savings_target">
<span class="sig-name descname"><span class="pre">savings_target</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Moneybox.savings_target" title="Link to this definition"></a></dt>
<dd><p>“The current savings target. Is relevant for the automated 
distributed saving progress.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Moneybox.transactions_log">
<span class="sig-name descname"><span class="pre">transactions_log</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#db.models.Transaction" title="db.models.Transaction"><span class="pre">Transaction</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Moneybox.transactions_log" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="db.models.SqlBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.models.</span></span><span class="sig-name descname"><span class="pre">SqlBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.models.SqlBase" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractConcreteBase</span></code>, <a class="reference internal" href="#db.models.Base" title="db.models.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">Base</span></code></a></p>
<p>An ORM declarative Base model with an ID as primary key</p>
<dl class="py method">
<dt class="sig sig-object py" id="db.models.SqlBase.asdict">
<span class="sig-name descname"><span class="pre">asdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_underscore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_pk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'asdict'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#db.models.SqlBase.asdict" title="Link to this definition"></a></dt>
<dd><p>Overloaded method from make_class_dictable().</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.SqlBase.created_at">
<span class="sig-name descname"><span class="pre">created_at</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;sqlalchemy.orm.properties.MappedColumn</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#db.models.SqlBase.created_at" title="Link to this definition"></a></dt>
<dd><p>The created utc datetime.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.SqlBase.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;sqlalchemy.orm.properties.MappedColumn</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#db.models.SqlBase.id" title="Link to this definition"></a></dt>
<dd><p>The primary ID of the row.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.SqlBase.is_active">
<span class="sig-name descname"><span class="pre">is_active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;sqlalchemy.orm.properties.MappedColumn</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#db.models.SqlBase.is_active" title="Link to this definition"></a></dt>
<dd><p>Flag to mark instance as deleted.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.SqlBase.modified_at">
<span class="sig-name descname"><span class="pre">modified_at</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;sqlalchemy.orm.properties.MappedColumn</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#db.models.SqlBase.modified_at" title="Link to this definition"></a></dt>
<dd><p>The modified utc datetime.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.SqlBase.note">
<span class="sig-name descname"><span class="pre">note</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;sqlalchemy.orm.properties.MappedColumn</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#db.models.SqlBase.note" title="Link to this definition"></a></dt>
<dd><p>The note of this record.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.SqlBase.strict_attrs">
<span class="sig-name descname"><span class="pre">strict_attrs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#db.models.SqlBase.strict_attrs" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="db.models.Transaction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">db.models.</span></span><span class="sig-name descname"><span class="pre">Transaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db.models.Transaction" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#db.models.SqlBase" title="db.models.SqlBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SqlBase</span></code></a></p>
<p>The moneybox ORM Transaction log.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.amount">
<span class="sig-name descname"><span class="pre">amount</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.amount" title="Link to this definition"></a></dt>
<dd><p>The current amount of the transaction.
Can be negative, negative = withdraw, positive = deposit.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.balance">
<span class="sig-name descname"><span class="pre">balance</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.balance" title="Link to this definition"></a></dt>
<dd><p>The balance of the moneybox at the time of the transaction.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.counterparty_moneybox">
<span class="sig-name descname"><span class="pre">counterparty_moneybox</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#db.models.Moneybox" title="db.models.Moneybox"><span class="pre">Moneybox</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.counterparty_moneybox" title="Link to this definition"></a></dt>
<dd><p>The foreign key to moneybox as counterparty relation, which can be None.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.counterparty_moneybox_id">
<span class="sig-name descname"><span class="pre">counterparty_moneybox_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.counterparty_moneybox_id" title="Link to this definition"></a></dt>
<dd><p>Transaction is a transfer between moneybox_id and
counterparty_moneybox_id, if set.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.created_at">
<span class="sig-name descname"><span class="pre">created_at</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.created_at" title="Link to this definition"></a></dt>
<dd><p>The created utc datetime.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.description" title="Link to this definition"></a></dt>
<dd><p>The description of the transaction action.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.id" title="Link to this definition"></a></dt>
<dd><p>The primary ID of the row.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.is_active">
<span class="sig-name descname"><span class="pre">is_active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.is_active" title="Link to this definition"></a></dt>
<dd><p>Flag to mark instance as deleted.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.modified_at">
<span class="sig-name descname"><span class="pre">modified_at</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.modified_at" title="Link to this definition"></a></dt>
<dd><p>The modified utc datetime.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.moneybox">
<span class="sig-name descname"><span class="pre">moneybox</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#db.models.Moneybox" title="db.models.Moneybox"><span class="pre">Moneybox</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.moneybox" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.moneybox_id">
<span class="sig-name descname"><span class="pre">moneybox_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.moneybox_id" title="Link to this definition"></a></dt>
<dd><p>The foreign key to moneybox.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.note">
<span class="sig-name descname"><span class="pre">note</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.note" title="Link to this definition"></a></dt>
<dd><p>The note of this record.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.transaction_trigger">
<span class="sig-name descname"><span class="pre">transaction_trigger</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">TransactionTrigger</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.transaction_trigger" title="Link to this definition"></a></dt>
<dd><p>“The transaction type, possible values: manually, automatically.
Says, if balance was deposit or withdrawn manually or automatically.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="db.models.Transaction.transaction_type">
<span class="sig-name descname"><span class="pre">transaction_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">TransactionType</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#db.models.Transaction.transaction_type" title="Link to this definition"></a></dt>
<dd><p>The type of the transaction. Possible values: direct or distribution.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="db.models.meta">
<span class="sig-prename descclassname"><span class="pre">db.models.</span></span><span class="sig-name descname"><span class="pre">meta</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">MetaData()</span></em><a class="headerlink" href="#db.models.meta" title="Link to this definition"></a></dt>
<dd><p>The database meta config.</p>
</dd></dl>

</section>
<section id="module-db">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-db" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, PythBuster.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>